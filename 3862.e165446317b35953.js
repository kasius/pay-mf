(self.webpackChunkpay=self.webpackChunkpay||[]).push([[3862],{9842:(f,i,n)=>{n.d(i,{y:()=>s});var a=n(730),c=n(3779),t=n(4962),_=n(1423);const d=[{path:"",component:c.H},{path:"scan",component:t.C}];let s=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=_.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=_.\u0275\u0275defineInjector({imports:[a.RouterModule.forChild(d),a.RouterModule]}),o})()},3779:(f,i,n)=>{n.d(i,{H:()=>c});var a=n(1423);let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["app-pay"]],decls:2,vars:0,template:function(r,d){1&r&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1,"pay works!"),a.\u0275\u0275elementEnd())}}),t})()},3862:(f,i,n)=>{n.r(i),n.d(i,{PayModule:()=>l});var a=n(1327),c=n(3284),_=n(1366),d=n(9842),s=n(1423);let l=(()=>{class e{}return e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({providers:[{provide:c.BarcodeScanner,useValue:c.BarcodeScanner}],imports:[a.CommonModule,d.y,_.IonicModule.forRoot()]}),e})()},4962:(f,i,n)=>{n.d(i,{C:()=>s});var a=n(5861),u=n(3284),t=n(1423),r=n(1366);let s=(()=>{class o{constructor(){this.scanActive=!1,this.result=null}ngOnInit(){}ngAfterViewInit(){u.BarcodeScanner.prepare(),this.startScanner()}ngOnDestroy(){u.BarcodeScanner.startScan()}startScanner(){var e=this;return(0,a.Z)(function*(){if(yield e.checkPermission()){e.scanActive=!0;const m=yield u.BarcodeScanner.startScan();console.log("file: scann prueba ",m),m.hasContent&&(e.result=m.content,e.result=JSON.parse(e.result),e.stopScanner())}})()}checkPermission(){return(0,a.Z)(function*(){return new Promise(function(){var e=(0,a.Z)(function*(E,m){const P=yield u.BarcodeScanner.checkPermission({force:!0});P.granted?E(!0):P.denied?console.log("acceso denegado..."):E(!1)});return function(E,m){return e.apply(this,arguments)}}())})()}stopScanner(){u.BarcodeScanner.stopScan(),this.scanActive=!1}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-scan"]],decls:7,vars:2,consts:[[3,"translucent"],[1,"scanner-container",3,"fullscreen"],[1,"scanner"],[1,"scanner-line"]],template:function(e,E){1&e&&(t.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.\u0275\u0275text(3," Home "),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(4,"ion-content",1)(5,"div",2),t.\u0275\u0275element(6,"div",3),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275property("translucent",!0),t.\u0275\u0275advance(4),t.\u0275\u0275property("fullscreen",!0))},dependencies:[r.IonContent,r.IonHeader,r.IonTitle,r.IonToolbar],styles:[".scanner-container[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;align-items:center;height:100vh}.scanner[_ngcontent-%COMP%]{position:relative;width:80%;height:80vh;max-width:300px;max-height:300px;border:2px solid white;border-radius:5px;overflow:hidden}.scanner-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:10px;background:linear-gradient(180deg,rgba(0,255,0,0) 0%,rgba(0,255,0,.6) 50%,rgba(0,255,0,0) 100%);animation:scanning 3s linear infinite}@keyframes scanning{0%{transform:translateY(0)}to{transform:translateY(100%)}}"]}),o})()},5861:(f,i,n)=>{function a(c,t,_,r,d,s,o){try{var l=c[s](o),e=l.value}catch(E){return void _(E)}l.done?t(e):Promise.resolve(e).then(r,d)}function u(c){return function(){var t=this,_=arguments;return new Promise(function(r,d){var s=c.apply(t,_);function o(e){a(s,r,d,o,l,"next",e)}function l(e){a(s,r,d,o,l,"throw",e)}o(void 0)})}}n.d(i,{Z:()=>u})}}]);